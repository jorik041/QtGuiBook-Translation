<html>
<head><meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />

<title>ch23lev1sec1.html</title>
<link rel="stylesheet" href="../../files/helpindex.css" type=
"text/css">
<link rel="stylesheet" href="../../default.css" type="text/css">

<script type="text/JavaScript" src="../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "final/ch23lev1sec1.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../index.html?page=sources%2Ffinal%2Fch23lev1sec1.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../index.html?page=sources%2Ffinal%2Fch23lev1sec1.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td align="right">
<div style="MARGIN-LEFT: 0.15in;"><a href="ch23.html"><img src=
"images/prev.gif" width="20" height="20" border="0" align=
"absmiddle" alt="Previous Page"></a> <a href=
"ch23lev1sec2.html"><img src="images/next.gif" width="20" height=
"20" border="0" align="absmiddle" alt="Next Page"></a></div>
</td>
</tr>
</table>

<div style="">
<div><a name="ch23"></a>
<h2 id="title-ID0ECJPM" class="docChapterTitle">23.
Platform-Specific Features</h2>

<p class="docText"><img border="0" id="" width="167" height="126"
src=
"images/NzlkOW1jM2FhMDc4L2lwdHJnZTFnMTRzOXIvMy83ZXBwdDNocF9lcl8vMmlzY2Nob25lYS5wZ3Jq.jpg"
alt="">
</p>

<ul>
<li>
<p class="docList"><a name="iddle1477"></a><a name=
"iddle2000"></a><a name="iddle2852"></a><a name=
"iddle3410"></a><a name="iddle3465"></a><a name=
"iddle3572"></a><a name="iddle3641"></a><a name=
"iddle3812"></a><a name="iddle3828"></a><a name=
"iddle3886"></a><a name="iddle3984"></a><a name=
"iddle4322"></a><a name="iddle6166"></a><a name=
"iddle7114"></a><a name="iddle7936"></a><a name=
"iddle8306"></a><a name="iddle8608"></a><a name=
"iddle8645"></a><a name="iddle8686"></a><a name=
"iddle8701"></a><a name="iddle8732"></a><span class=
"docEmphasis"><a class="docLink" href=
"ch23lev1sec1.html#ch23lev1sec1">Interfacing with Native
APIs</a></span>
</p>
</li>

<li>
<p class="docList"><span class="docEmphasis"><a class="docLink"
href="ch23lev1sec2.html#ch23lev1sec2">Using ActiveX on
Windows</a></span>
</p>
</li>

<li>
<p class="docList"><span class="docEmphasis"><a class="docLink"
href="ch23lev1sec3.html#ch23lev1sec3">Handling X11 Session
Management</a></span>
</p>
</li>
</ul>

<p class="docText"><a name="In this"></a>In this chapter, we will
review some of the platform-specific options available to Qt
programmers. We begin by looking at how to access native APIs such
as the Win32 API on Windows, Carbon on Mac OS X, and Xlib on X11.
We then move on to explore the ActiveQt extension, showing how to
use ActiveX controls within Qt/Windows applications and how to
create applications that act as ActiveX servers. In the last
section, we explain how to make Qt applications cooperate with the
session manager under X11.</p>

<p class="docText"><a name="to the"></a>In addition to the features
presented here, Trolltech offers several platform-specific Qt
Solutions, including the Qt/Motif and Qt/MFC migration frameworks
to ease the migration of Motif/Xt and MFC applications to Qt. A
similar extension for Tcl/Tk applications is provided by
<span class="docEmphasis">froglogic</span><a name=
"a Microsoft"></a>, and a Microsoft Windows resource converter is
available from Klar√§lvdalens Datakonsult. See the following web
pages for details:</p>

<ul>
<li>
<p class="docList"><a class="docLink" target="_blank" href=
"http://www.trolltech.com/products/qt/addon/solutions/catalog/4/">http://www.trolltech.com/products/qt/addon/solutions/catalog/4/</a>
</p>
</li>

<li>
<p class="docList"><a class="docLink" target="_blank" href=
"http://www.froglogic.com/tq/">http://www.froglogic.com/tq/</a>
</p>
</li>

<li>
<p class="docList"><a class="docLink" target="_blank" href=
"http://www.kdab.net/knut/">http://www.kdab.net/knut/</a>
</p>
</li>
</ul>

<p class="docText"><a name="cover in"></a>For embedded development,
Trolltech offers the Qtopia application platform, which we cover in
<a class="docLink" href="ch24.html#ch24">Chapter 24</a>.</p>

<p class="docText"><a name="have been"></a>Some Qt functionality
that might have been expected to be platform-specific is available
in a platform-independent manner. For example, there is a Qt
Solution for creating services (daemons) on Windows, Unix, and Mac
OS X.</p>
<a name="ch23lev1sec1"></a>
<h3 class="docSection1Title" id="-100000">Interfacing with Native
APIs</h3>

<p class="docText"><a name="in some"></a>Qt's comprehensive API
caters for most needs on all platforms, but in some circumstances,
we may want to use the underlying platform-specific APIs. In this
section, we will show how to use the native APIs for the different
platforms supported by Qt to accomplish particular tasks.</p>

<p class="docText"><a name="iddle1478"></a><a name=
"iddle2547"></a><a name="iddle2747"></a><a name=
"iddle2888"></a><a name="iddle3052"></a><a name=
"iddle3131"></a><a name="iddle4230"></a><a name=
"iddle6520"></a><a name="iddle6565"></a><a name=
"iddle6651"></a><a name="iddle8576"></a><a name=
"iddle8613"></a><a name="iddle8636"></a>On every platform,
<tt>QWidget</tt> provides a <tt>winId()</tt> function that returns
the window ID or handle. <tt>QWidget</tt> also provides a static
function called <tt>find()</tt> that returns the
<tt>QWidget</tt><a name="this ID"></a> with a particular window ID.
We can pass this ID to native API functions to achieve
platform-specific effects. For example, the following code uses
<tt>winId()</tt><a name="the left"></a> to move the title bar of a
tool window to the left using native Mac OS X (Carbon) functions
(see <a class="docLink" href="#ch23fig01">Figure 23.1</a>):</p>

<div class="docText">
<pre>
#ifdef Q_WS_MAC
    ChangeWindowAttributes(HIViewGetWindow(HIViewRef(toolWin.winId())),
                           kWindowSideTitlebarAttribute,
                           kWindowNoAttributes);
#endif
</pre>
</div>
<br>
<a name="ch23fig01"></a>
<center>
<h5 class="docFigureTitle"><a name="OS X"></a>Figure 23.1. A Mac OS
X tool window with the title bar on the side</h5>

<p class="docText"><img border="0" id="" width="89" height="296"
src=
"images/NzlkOW1jM2FhMDc4L2lwdHJnZTFnMTRzOXIvMy83cHBlYWhqY3IvYmFtc2NpLXMuZ2lk.jpg"
alt="">
</p>
</center>
<br>

<p class="docText"><a name="we would"></a>On X11, here's how we
would modify a window property:</p>

<div class="docText">
<pre>
#ifdef Q_WS_X11
    Atom atom = XInternAtom(QX11Info::display(), "MY_PROPERTY", False);
    long data = 1;
    XChangeProperty(QX11Info::display(), window-&gt;winId(), atom, atom,
                    32, PropModeReplace,
                    reinterpret_cast&lt;uchar *&gt;(&amp;data), 1);
#endif
</pre>
</div>
<br>

<p class="docText"><a name="The"></a>The <tt>#ifdef</tt> and
<tt>#endif</tt><a name="the platform"></a> directives around the
platform-specific code ensure that the application will still
compile on other platforms.</p>

<p class="docText"><a name="a Windows"></a>For a Windows-only
application, here's an example of how we can use GDI calls to draw
on a Qt widget:</p>

<div class="docText">
<pre>
void GdiControl::paintEvent(QPaintEvent * /* event */)
{
    RECT rect;
    GetClientRect(winId(), &amp;rect);
    HDC hdc = GetDC(winId());

    FillRect(hdc, &amp;rect, HBRUSH(COLOR_WINDOW + 1));
    SetTextAlign(hdc, TA_CENTER | TA_BASELINE);
    TextOutW(hdc, width() / 2, height() / 2, text.utf16(), text.size());
    ReleaseDC(winId(), hdc);
}
</pre>
</div>
<br>

<p class="docText"><a name="iddle2548"></a><a name=
"iddle2908"></a><a name="iddle3648"></a><a name=
"iddle3821"></a><a name="iddle4163"></a><a name=
"iddle4217"></a><a name="iddle4218"></a><a name=
"iddle4231"></a><a name="iddle4581"></a><a name=
"iddle4609"></a><a name="iddle4613"></a><a name=
"iddle5493"></a><a name="iddle5494"></a><a name=
"iddle5497"></a><a name="iddle5546"></a><a name=
"iddle6011"></a><a name="iddle6089"></a><a name=
"iddle6374"></a><a name="iddle6566"></a><a name=
"iddle6849"></a><a name="iddle8426"></a><a name=
"iddle8472"></a><a name="iddle8503"></a><a name=
"iddle8609"></a><a name="iddle8647"></a><a name="iddle8652"></a>For
this to work, we must also reimplement
<tt>QPaintDevice::paintEngine()</tt> to return a null pointer and
set the <tt>Qt::WA_PaintOnScreen</tt> attribute in the widget's
constructor.</p>

<p class="docText">The next example shows how to combine
<tt>QPainter</tt> and GDI calls in a paint event handler using
<tt>QPaintEngine</tt>'s <tt>getDC()</tt> and <tt>releaseDC()</tt>
functions:</p>

<div class="docText">
<pre>
void MyWidget::paintEvent(QPaintEvent * /* event */)
{
    QPainter painter(this);
    painter.fillRect(rect().adjusted(20, 20, -20, -20), Qt::red);
#ifdef Q_WS_WIN
    HDC hdc = painter.paintEngine()-&gt;getDC();
    Rectangle(hdc, 40, 40, width() - 40, height() - 40);
    painter.paintEngine()-&gt;releaseDC();
#endif
}
</pre>
</div>
<br>

<p class="docText">Mixing <tt>QPainter</tt><a name=
"strange results"></a> and GDI calls like this can sometimes lead
to strange results, especially when <tt>QPainter</tt> calls occur
after GDI calls, because <tt>QPainter</tt><a name="state of"></a>
makes some assumptions about the state of the underlying drawing
layer.</p>

<p class="docText">Qt defines one of the following four window
system symbols: <tt>Q_WS_WIN</tt>, <tt>Q_WS_X11</tt>,
<tt>Q_WS_MAC</tt>, or <tt>Q_WS_QWS</tt><a name="we can"></a>
(Qtopia). We must include at least one Qt header before we can use
them in applications. Qt also provides preprocessor symbols to
identify the operating system:</p>

<ul>
<li>
<p class="docList"><tt>Q_OS_AIX</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_BSD4</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_BSDI</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_CYGWIN</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_DGUX</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_DYNIX</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_FREEBSD</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_HPUX</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_HURD</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_IRIX</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_LINUX</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_LYNX</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_MAC</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_NETBSD</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_OPENBSD</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_OS2EMX</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_OSF</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_QNX6</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_QNX</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_RELIANT</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_SCO</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_SOLARIS</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_ULTRIX</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_UNIXWARE</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_WIN32</tt>
</p>
</li>

<li>
<p class="docList"><tt>Q_OS_WIN64</tt>
</p>
</li>
</ul>

<p class="docText"><a name="of these"></a>We can assume that at
most one of these will be defined. For convenience, Qt also defines
<tt>Q_OS_WIN</tt> when either Win32 or Win64 is detected, and
<tt>Q_OS_UNIX</tt><a name="we can"></a> when any Unix-based
operating system (including Linux and Mac OS X) is detected. At
run-time, we can check <tt>QSysInfo::WindowsVersion</tt> or
<tt>QSysInfo::MacintoshVersion</tt><a name=
"different versions"></a> to distinguish between different versions
of Windows (2000, ME, etc.) or Mac OS X (10.2, 10.3, etc.).</p>

<p class="docText"><a name="to the"></a>In addition to the
operating system and window system macros, there is also a set of
compiler macros. For example, <tt>Q_CC_MSVC</tt><a name=
"is defined"></a> is defined if the compiler is Microsoft Visual
C++. These can be useful for working around compiler bugs.</p>

<p class="docText"><a name="classes provide"></a>Several of Qt's
GUI-related classes provide platform-specific functions that return
low-level handles to the underlying object. These are listed in
<a class="docLink" href="#ch23fig02">Figure 23.2</a>.</p>

<p class="docText">
</p>
<a name="ch23fig02"></a>
<center>
<h5 class="docFigureTitle"><a name="functions to"></a>Figure 23.2.
Platform-specific functions to access low-level handles</h5>

<table cellspacing="0" class="allBorders" border="1" rules="rows"
cellpadding="4">
<colgroup align="left" span="2">
<col width="150">
<col width="250">
</colgroup>

<tr>
<td class="docTableCell" align="left" valign="top" style=
"background-color:#E6E6E6"><a name="iddle1250"></a><a name=
"iddle1521"></a><a name="iddle1958"></a><a name=
"iddle2802"></a><a name="iddle2909"></a><a name=
"iddle2918"></a><a name="iddle2968"></a><a name=
"iddle2971"></a><a name="iddle2972"></a><a name=
"iddle2973"></a><a name="iddle2974"></a><a name=
"iddle2975"></a><a name="iddle2978"></a><a name=
"iddle2994"></a><a name="iddle2995"></a><a name=
"iddle3042"></a><a name="iddle3053"></a><a name=
"iddle3070"></a><a name="iddle3071"></a><a name=
"iddle3091"></a><a name="iddle3638"></a><a name=
"iddle3643"></a><a name="iddle3644"></a><a name=
"iddle4306"></a><a name="iddle4313"></a><a name=
"iddle4833"></a><a name="iddle4873"></a><a name=
"iddle5031"></a><a name="iddle5495"></a><a name=
"iddle5587"></a><a name="iddle5589"></a><a name=
"iddle5590"></a><a name="iddle5591"></a><a name=
"iddle5592"></a><a name="iddle5593"></a><a name=
"iddle5604"></a><a name="iddle5679"></a><a name=
"iddle5737"></a><a name="iddle6525"></a><a name=
"iddle6652"></a><a name="iddle6654"></a><a name=
"iddle6655"></a><a name="iddle6687"></a><a name=
"iddle6824"></a><a name="iddle6947"></a><a name=
"iddle7043"></a><a name="iddle7551"></a><a name=
"iddle8614"></a><a name="iddle8615"></a><a name=
"iddle8691"></a><a name="iddle8692"></a><a name=
"iddle8693"></a><a name="iddle8694"></a><a name=
"iddle8695"></a><span class="docEmphRomanAlt">Mac OS X</span>
</td>
<td class="docTableCell" align="left" valign="top" style=
"background-color:#E6E6E6">&nbsp;</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>ATSFontFormatRef</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QFont::handle()</tt>
</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>CGImageRef</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QPixmap::macCGHandle()</tt>
</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>GWorldPtr</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QPixmap::macQDAlphaHandle()</tt>
</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>GWorldPtr</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QPixmap::macQDHandle()</tt>
</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>RgnHandle</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QRegion::handle()</tt>
</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>HIViewRef</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QWidget::winId()</tt>
</td>
</tr>
</table>
<br>

<table cellspacing="0" class="allBorders" border="1" rules="rows"
cellpadding="4">
<colgroup align="left" span="2">
<col width="150">
<col width="250">
</colgroup>

<tr>
<td class="docTableCell" align="left" valign="top" style=
"background-color:#E6E6E6"><span class=
"docEmphRomanAlt">Windows</span>
</td>
<td class="docTableCell" align="left" valign="top" style=
"background-color:#E6E6E6">&nbsp;</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>HCURSOR</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QCursor::handle()</tt>
</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>HDC</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QPaintEngine::getDC()</tt>
</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>HDC</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QPrintEngine::getPrinterDC()</tt>
</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>HFONT</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QFont::handle()</tt>
</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>HPALETTE</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QColormap::hPal()</tt>
</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>HRGN</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QRegion::handle()</tt>
</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>HWND</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QWidget::winId()</tt>
</td>
</tr>
</table>
<br>

<table cellspacing="0" class="allBorders" border="1" rules="rows"
cellpadding="4">
<colgroup align="left" span="2">
<col width="150">
<col width="250">
</colgroup>

<tr>
<td class="docTableCell" align="left" valign="top" style=
"background-color:#E6E6E6"><span class="docEmphRomanAlt">X11</span>
</td>
<td class="docTableCell" align="left" valign="top" style=
"background-color:#E6E6E6">&nbsp;</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>Cursor</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QCursor::handle()</tt>
</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>Font</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QFont::handle()</tt>
</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>Picture</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QPixmap::x11PictureHandle()</tt>
</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>Picture</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QWidget::x11PictureHandle()</tt>
</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>Pixmap</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QPixmap::handle()</tt>
</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>QX11Info</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QPixmap::x11Info()</tt>
</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>QX11Info</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QWidget::x11Info()</tt>
</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>Region</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QRegion::handle()</tt>
</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>Screen</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QCursor::x11Screen()</tt>
</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>SmcConn</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QSessionManager::handle()</tt>
</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>Window</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QWidget::handle()</tt>
</td>
</tr>

<tr>
<td class="docTableCell rightBorder" align="left" valign="top">
<tt>Window</tt>
</td>
<td class="docTableCell" align="left" valign="top">
<tt>QWidget::winId()</tt>
</td>
</tr>
</table>
<br>
</center>
<br>

<p class="docText">On X11, <tt>QPixmap::x11Info()</tt> and
<tt>QWidget::x11Info()</tt> return a <tt>QX11Info</tt> object that
provides various pointers or handles, such as <tt>display()</tt>,
<tt>screen()</tt>, <tt>colormap()</tt>, and
<tt>visual()</tt><a name="context on"></a>. We can use these to set
up an X11 graphics context on a <tt>QPixmap</tt> or
<tt>QWidget</tt>, for example.</p>

<p class="docText"><a name="iddle1075"></a><a name=
"iddle1081"></a><a name="iddle1686"></a><a name=
"iddle2491"></a><a name="iddle2513"></a><a name=
"iddle2517"></a><a name="iddle2550"></a><a name=
"iddle2607"></a><a name="iddle2739"></a><a name=
"iddle3639"></a><a name="iddle3640"></a><a name=
"iddle3778"></a><a name="iddle3930"></a><a name=
"iddle4323"></a><a name="iddle4727"></a><a name=
"iddle4728"></a><a name="iddle4746"></a><a name=
"iddle4747"></a><a name="iddle4762"></a><a name=
"iddle4773"></a><a name="iddle4992"></a><a name=
"iddle6534"></a><a name="iddle6569"></a><a name=
"iddle6650"></a><a name="iddle6653"></a><a name=
"iddle6667"></a><a name="iddle6671"></a><a name=
"iddle6672"></a><a name="iddle8611"></a><a name=
"iddle8612"></a><a name="iddle8644"></a><a name=
"iddle8689"></a><a name="iddle8690"></a><a name=
"iddle8700"></a><a name="interface with"></a>Qt applications that
need to interface with other toolkits or libraries frequently need
to access the low-level events (<tt>XEvent</tt>s on X11,
<tt>MSG</tt>s on Windows, <tt>EventRef</tt> on Mac OS X,
<tt>QWSEvent</tt>s on QWS) before they are converted into
<tt>QEvent</tt>s. We can do this by subclassing
<tt>QApplication</tt> and reimplementing the relevant
platform-specific event filter, one of <tt>x11EventFilter()</tt>,
<tt>winEventFilter()</tt>, <tt>macEventFilter()</tt>, and
<tt>qwsEventFilter()</tt><a name="a given"></a>. Alternatively, we
can access the platform-specific events that are sent to a given
<tt>QWidget</tt> by reimplementing one of <tt>x11Event()</tt>,
<tt>winEvent()</tt>, <tt>macEvent()</tt>, and
<tt>qwsEvent()</tt><a name="types of"></a>. This can be useful for
handling certain types of events that Qt normally ignores, such as
joystick events.</p>

<p class="docText"><a name="on different"></a>For more information
about platform-specific issues, including how to deploy Qt
applications on different platforms, see <a class="docLink" target=
"_blank" href=
"http://doc.trolltech.com/4.3/winsystem.html">http://doc.trolltech.com/4.3/winsystem.html</a>.</p>
</div>
</div>

<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td align="right">
<div style="MARGIN-LEFT: 0.15in;"><a href="ch23.html"><img src=
"images/prev.gif" width="20" height="20" border="0" align=
"absmiddle" alt="Previous Page"></a> <a href=
"ch23lev1sec2.html"><img src="images/next.gif" width="20" height=
"20" border="0" align="absmiddle" alt="Next Page"></a></div>
</td>
</tr>
</table>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("sources/" + chmtop.c2wtopf.pageid);
}
</script>

<!-- CHM2WEB -->
<!-- DO NOT DELETE OR MODIFY THIS CODE WITHOUT 
     WRITTEN PERMISSION OF A!K RESEARCH LABS -->
<table width="100%" cellspacing="0" cellpadding="0" 
style="margin-top: 0pt; border-collapse: collapse;"> 
<tr> <td align="right" style="background-color:white; border-top: 1px solid gray;"> 
<a href="http://chm2web.aklabs.com" target="_blank" style="font-family: sans-serif;  font-size: 11px; text-decoration: none;"><font color="gray">Converted from CHM to HTML with <b>chm2web Pro 2.85 (unicode)</b></font></a>
</td></tr></table> 
<!-- /CHM2WEB -->

</body>
</html>
